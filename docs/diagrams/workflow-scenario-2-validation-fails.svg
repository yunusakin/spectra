<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="960" height="300" viewBox="0 0 960 300" role="img" aria-label="SDD Spine workflow scenario 2: validation fails">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1e1e1e" />
    </marker>
    <style>
      .node { fill: #ffffff; stroke: #1e1e1e; stroke-width: 2; }
      .arrow { stroke: #1e1e1e; stroke-width: 2; fill: none; marker-end: url(#arrow); }
      .text { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; font-size: 16px; fill: #1e1e1e; }
      .label { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; font-size: 14px; fill: #1e1e1e; }
    </style>
  </defs>

  <!-- Top row -->
  <rect class="node" x="20" y="40" width="220" height="60" />

  <!-- Decision diamond (bbox x=280 y=20 w=200 h=100) -->
  <polygon class="node" points="380,20 480,70 380,120 280,70" />

  <rect class="node" x="520" y="40" width="220" height="60" />

  <line class="arrow" x1="240" y1="70" x2="280" y2="70" />
  <line class="arrow" x1="480" y1="70" x2="520" y2="70" />

  <!-- No branch down -->
  <line class="arrow" x1="380" y1="120" x2="380" y2="180" />
  <text class="label" x="392" y="156">No</text>

  <!-- Bottom row -->
  <rect class="node" x="260" y="180" width="240" height="60" />
  <rect class="node" x="530" y="180" width="180" height="60" />
  <rect class="node" x="740" y="180" width="180" height="60" />

  <line class="arrow" x1="500" y1="210" x2="530" y2="210" />
  <line class="arrow" x1="710" y1="210" x2="740" y2="210" />

  <!-- Loop back to decision -->
  <path class="arrow" d="M 830 240 L 830 150 L 380 150 L 380 120" />

  <!-- Labels for yes path -->
  <text class="label" x="496" y="55">Yes</text>

  <!-- Text: Top row -->
  <text class="text" x="130" y="63" text-anchor="middle">Answer intake</text>
  <text class="text" x="130" y="83" text-anchor="middle">questions</text>

  <text class="text" x="380" y="63" text-anchor="middle">Validation</text>
  <text class="text" x="380" y="83" text-anchor="middle">passes</text>

  <text class="text" x="630" y="63" text-anchor="middle">Proceed to next</text>
  <text class="text" x="630" y="83" text-anchor="middle">phase</text>

  <!-- Text: Bottom row -->
  <text class="text" x="380" y="198" text-anchor="middle">Agent reports</text>
  <text class="text" x="380" y="216" text-anchor="middle">missing or invalid</text>
  <text class="text" x="380" y="234" text-anchor="middle">fields</text>

  <text class="text" x="620" y="203" text-anchor="middle">User provides</text>
  <text class="text" x="620" y="223" text-anchor="middle">missing answers</text>

  <text class="text" x="830" y="203" text-anchor="middle">Agent updates specs</text>
  <text class="text" x="830" y="223" text-anchor="middle">and intake state</text>
</svg>
